{% extends "base.html" %}
{% import 'bootstrap/wtf.html' as wtf %}

{% block app_content %}

    <h3>Search</h3>

    <div class="row">
        <div class="col-md-4">
            {{ wtf.quick_form(searchForm)}}
        </div>
    </div>

    <h3>Filter Results</h3>
    <div class="row">
        <div class="col-md-4">
            {{ wtf.quick_form(form) }}
        </div>
    </div>

    <h3>Overlapping Regions Found: {{region}} {{lowerBound}}:{{upperBound}} from {{source}}</h3>
        
    <table class="table table-hover">
            <tr>
              <th>File Name</th>
              <th>Overlap</th> 
              <th>Total Regions</th>
              <th>Percent of Region Overlaped</th> 
            </tr>
            <tbody>
            {% for value in results%}
                <tr>
                  <td><a href="#" data-toggle="modal" data-target='#descriptionModal{{ value[1] }}{{ value[2] }}' class="btn btn-success"><i class="fa fa-edit"></i> {{ value[0] }} </a></td>
                  <td> {{ value[2] }} </td>
                  <td> {{ value[1] }} </td>
                  <td> {{ value[3] }} %</td>
                </tr>

                <div class="modal fade" id="descriptionModal{{ value[1] }}{{ value[2] }}" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
                  <div class="modal-dialog modal-lg">
                    <div class="modal-content">
                      <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                        <h4 class="modal-title">{{ value[0] }}</h4>
                      </div>
                      <div class="modal-body">
                        <p> 
                            {{ value[4] | safe}}
                        </p>
                      </div>
                      <div class="modal-footer">
                        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                      </div>
                    </div>
                  </div>
                </div>
                <script> $('#descriptionModal{{ value[1] }}{{ value[2] }}').modal(show); </script>

            {% endfor %}
          </tbody>
          </table>
{% endblock %}